schema: '2.0'
stages:
  generate_wsi_patches_and_embed:
    cmd: python src/data/generate_wsi_patches_and_embed.py --config config/wsi_data_pipe_config.yml
    deps:
    - path: config/wsi_data_pipe_config.yml
      hash: md5
      md5: a6f279079ec4b70833305261526ad57d
      size: 1198
    - path: data/raw
      hash: md5
      md5: 1463dec60a89ec8f151e1b595cd02536.dir
      size: 635447581
      nfiles: 3
    - path: src/data/generate_wsi_patches_and_embed.py
      hash: md5
      md5: a43996f55f34c628d830ec189b9d65ca
      size: 571
    outs:
    - path: data/interim/patches_and_embeds
      hash: md5
      md5: 5b3b4d7126c0add6a7bf4ab32a448499.dir
      size: 1949646
      nfiles: 4
  generate_wsi_text_with_patches_and_prompt_embeds:
    cmd: python src/data/generate_wsi_texts.py --config config/wsi_data_pipe_config.yml
    deps:
    - path: config/wsi_data_pipe_config.yml
      hash: md5
      md5: a6f279079ec4b70833305261526ad57d
      size: 1198
    - path: data/interim/patches_and_embeds
      hash: md5
      md5: 5b3b4d7126c0add6a7bf4ab32a448499.dir
      size: 1949646
      nfiles: 4
    - path: src/data/generate_wsi_texts.py
      hash: md5
      md5: ddf1470c28743737a573d3a82389bfea
      size: 3579
    outs:
    - path: data/interim/wsi_texts/
      hash: md5
      md5: f23884aff60f7daf70fd68e1f1bce975.dir
      size: 1201
      nfiles: 3
  aggregate_all_wsi_texts:
    cmd: python src/data/aggregate_all_wsi_texts.py --config config/wsi_data_pipe_config.yml
    deps:
    - path: config/wsi_data_pipe_config.yml
      hash: md5
      md5: a6f279079ec4b70833305261526ad57d
      size: 1198
    - path: data/interim/wsi_texts
      hash: md5
      md5: f23884aff60f7daf70fd68e1f1bce975.dir
      size: 1201
      nfiles: 3
    - path: src/data/aggregate_all_wsi_texts.py
      hash: md5
      md5: 6f8226c10026d5e61fa13bb39f4e3bda
      size: 1060
    outs:
    - path: data/processed/
      hash: md5
      md5: 160ffb68c26ec62448de6c7607216012.dir
      size: 1308
      nfiles: 1
